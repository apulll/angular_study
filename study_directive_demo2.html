<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>angular 指令学习</title>
	<!-- <link rel="stylesheet" type="text/css" href="css/g.css"> -->
	<script type="text/javascript" src="lib/angular-1.3.10/angular.js"></script>
</head>
<body  ng-app="myApp">
	<div class="header">
		<p class="logo"><a href='/'>angular example</a></p>
	</div>
	<div ng-controller="myCtrl">
		共享scope:
	  <div share-directive>
	  </div>
	 	<br>
		隔离scope:
	   <div isolated-directive>
	  </div>
	  ===============================
	  <br>
	  隔离scope与父scope共享：
	  <br>
	  ===============================
	  <div class="result">
	       <div>父scope：
	           <div>Say：<%name%><br>改变父scope的name：<input type="text" value="" ng-model="name"/></div>
	       </div>
	       <br>
	       <div>隔离scope：
	           <div isolatedshare-directive name1="name" name2="<%name%>"></div>
	       </div>
	       <br>
	        <div>隔离scope（不使用<%name%>）：
	             <div isolatedshare-directive name1="name" name2="name"></div>
	         </div>
   		</div>
	</div>
	<script>
		var app = angular.module("myApp",[],function($interpolateProvider){
			 $interpolateProvider.startSymbol('<%');
	    	$interpolateProvider.endSymbol('%>');
		});
		app.controller('myCtrl', ['$scope', function ($scope) {
			$scope.name = "hello world";
		}]).directive('shareDirective', [function () {
			return {
				restrict: 'AE',
				// replace:true,
				template:'Say:<span transclude><%name%></span>',
				link: function (scope, iElement, iAttrs) {

				}
			};
		}]).directive('isolatedDirective', [function () {
			return {
				restrict: 'EA',
				scope:{},
				// replace:true,
				// transclude:true,
				template:'Say:<div transclude><%name%></div>'
			};
		}]).directive('isolatedshareDirective', [function () {
			return {
				restrict: 'EA',
				scope:{
					name1:"=",
					name2:"@"
				},
				template:'Say <%name1%><%name2%><br> 改变隔离scope的name：<input type="text" value="" ng-modal="name" class="ng-pristine ng-valid">',

				link: function (scope, iElement, iAttrs) {
					scope.name = "9999"
				}
			};
		}])
	</script>
</body>
</html>